<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CLOUDZ SYSTEM</title>
    
    <meta property="og:title" content="CLOUDZ">
    <meta property="og:description" content="this is my website... do you like it? it has my info, games, and more! ðŸ¥º">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#ffffff">

    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="site.webmanifest">

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; cursor: none !important; outline: none; }
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow: hidden; height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center; }
        
        #particles-js { position: absolute; inset: 0; z-index: 1; pointer-events: none; }

        /* SPINNING RETICLE */
        #cursor-wrapper { position: fixed; pointer-events: none; z-index: 999999; mix-blend-mode: difference; transform: translate(-50%, -50%); animation: rotateCursor 4s linear infinite; }
        @keyframes rotateCursor { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .reticle-part { position: absolute; border: 2px solid #fff; width: 15px; height: 15px; }
        #reticle-top-left { top: -12px; left: -12px; border-right: none; border-bottom: none; }
        #reticle-top-right { top: -12px; right: -12px; border-left: none; border-bottom: none; }
        #reticle-bottom-left { bottom: -12px; left: -12px; border-right: none; border-top: none; }
        #reticle-bottom-right { bottom: -12px; right: -12px; border-left: none; border-top: none; }
        #cursor-dot { width: 4px; height: 4px; background: #fff; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }

        /* UI SYSTEM */
        h1.title { font-size: 5rem; letter-spacing: 20px; text-transform: uppercase; font-weight: 900; margin-bottom: 40px; text-align: center; text-shadow: 0 0 20px rgba(255,255,255,0.5); z-index: 10; }
        .modal-box { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 450px; max-width: 90vw; background: rgba(0,0,0,0.95); border: 1px solid #444; padding: 40px; z-index: 5000; text-align: center; border-radius: 4px; box-shadow: 0 0 40px rgba(0,0,0,1); }
        
        .btn-style, .tiny-btn { width: 100%; max-width: 300px; padding: 14px; border: 1px solid #fff; background: transparent; color: #fff; letter-spacing: 3px; margin: 10px auto; display: flex; justify-content: center; align-items: center; transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-family: inherit; font-weight: 600; text-decoration: none; font-size: 0.8rem; }
        .btn-style:hover { background: #fff; color: #000; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255,255,255,0.3); }

        #btn-discord { border-color: #5865F2; color: #5865F2; } #btn-discord:hover { background: #5865F2; color: #fff; }
        #btn-cashapp { border-color: #00D632; color: #00D632; } #btn-cashapp:hover { background: #00D632; color: #fff; }
        #btn-robux { border-color: #00A2FF; color: #00A2FF; } #btn-robux:hover { background: #00A2FF; color: #fff; }

        .corner-controls { position: fixed; top: 30px; left: 30px; z-index: 1000; display: none; flex-direction: column; gap: 15px; }
        #live-counter { position: fixed; top: 30px; right: 30px; font-size: 0.8rem; color: #0f0; z-index: 2000; letter-spacing: 2px; display: none; }
        
        #chat-window { display: none; position: fixed; bottom: 30px; right: 30px; width: 300px; height: 400px; background: rgba(0,0,0,0.9); border: 1px solid #333; z-index: 1000; flex-direction: column; }
        #chat-history { flex: 1; overflow-y: auto; padding: 15px; font-size: 0.8rem; text-align: left; scrollbar-width: none; }
        #chat-input { width: 100%; border: none; padding: 15px; background: #111; color: #fff; border-top: 1px solid #333; font-family: inherit; }

        /* GAME STYLES */
        canvas { background: #000; border: 1px solid #333; display: none; margin: 20px auto; }
        .ttt-grid { display: none; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 240px; margin: 20px auto; }
        .ttt-cell { width: 75px; height: 75px; border: 1px solid #444; display: flex; align-items: center; justify-content: center; font-size: 2rem; transition: 0.2s; }
        .ttt-cell:hover { background: #111; }
    </style>
</head>
<body>

    <div id="particles-js"></div>
    <div id="live-counter">SYSTEM_ACTIVE: 1</div>
    <div id="cursor-wrapper">
        <div class="reticle-part" id="reticle-top-left"></div>
        <div class="reticle-part" id="reticle-top-right"></div>
        <div class="reticle-part" id="reticle-bottom-left"></div>
        <div class="reticle-part" id="reticle-bottom-right"></div>
        <div id="cursor-dot"></div>
    </div>

    <div id="intro-overlay" style="position:fixed; inset:0; background:#000; z-index:10000; display:flex; justify-content:center; align-items:center;">
        <button class="btn-style" style="width:auto; padding: 20px 60px;" onclick="initSystem()">INITIALIZE</button>
    </div>

    <div id="login-modal" class="modal-box" style="display:block;">
        <h2 style="letter-spacing:5px;">USER AUTH</h2><br>
        <input type="text" id="user-id" placeholder="USER" style="background:#111; border:1px solid #333; color:#fff; padding:12px; width:100%; margin-bottom:10px; text-align:center;">
        <input type="password" id="user-pw" placeholder="PASS" style="background:#111; border:1px solid #333; color:#fff; padding:12px; width:100%; margin-bottom:20px; text-align:center;">
        <button class="btn-style" onclick="handleAuth()">LOGIN / REGISTER</button>
    </div>

    <div id="info-modal" class="modal-box">
        <h3 style="color:#888;">CLOUDZ_PROFILE</h3><br>
        <div style="text-align:left; font-size:0.9rem; line-height:1.8;">
            <p>Hi, I'm Cloudz. I do a lot of coding, especially with Python. I'm currently trying to learn every major language I need to know to make whatever I want.</p><br>
            <p>See that Cash App button? If you want to support me, you can donate there or use it for business. If you want to talk business for an app or a website, DM me on discord.</p>
        </div><br>
        <button class="btn-style" onclick="closeModals()">CLOSE</button>
    </div>

    <div class="corner-controls" id="controls">
        <button class="tiny-btn" onclick="openModal('info-modal')">INFO</button>
        <button class="tiny-btn" onclick="toggleChat()">CHAT</button>
    </div>

    <div id="chat-window">
        <div id="chat-history"></div>
        <input type="text" id="chat-input" placeholder=">> SEND MESSAGE">
    </div>

    <div id="main-content" style="display:none; flex-direction:column; align-items:center; z-index:10;">
        <h1 class="title">Cloudz</h1>
        <button id="btn-discord" class="btn-style" onclick="copyDiscord()">DISCORD: cloudz.cloud</button>
        <a href="https://cash.app/$roman479" target="_blank" id="btn-cashapp" class="btn-style">CASH APP</a>
        <a href="https://www.roblox.com/gift-robux?user=59877973" target="_blank" id="btn-robux" class="btn-style">ROBLOX DONATE</a>
        <button class="btn-style" onclick="openModal('games-hub')">TERMINAL GAMES</button>
    </div>

    <div id="games-hub" class="modal-box">
        <h2 style="letter-spacing:3px;">GAMES</h2>
        <button class="btn-style" onclick="launchGame('snake')">SNAKE</button>
        <button class="btn-style" onclick="launchGame('zombies')">ZOMBIES</button>
        <button class="btn-style" onclick="launchGame('dino')">DINO RUN</button>
        <button class="btn-style" onclick="launchGame('ttt')">TIC TAC TOE</button>
        <button class="btn-style" onclick="closeModals()">BACK</button>
    </div>

    <div id="play-area" class="modal-box">
        <h3 id="g-status" style="font-size:0.8rem; color:#888;">SCORE: 0</h3>
        <canvas id="game-canvas" width="400" height="400" onmousedown="handleClick(event)"></canvas>
        <div id="ttt-board" class="ttt-grid"></div>
        <button id="retry-btn" class="btn-style" style="display:none;" onclick="retryGame()">RETRY</button>
        <button class="btn-style" onclick="quitGame()">TERMINATE</button>
    </div>

    <audio id="bg-music" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>

    <script>
        const firebaseConfig = { databaseURL: "https://cloudzinfo-1f0ec-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let myUser = "", gameLoop, score = 0, keys = {}, active = false;
        let pX, pY, bullets=[], zoms=[], snake=[], sDir, food, dinoY, dinoV, obstacles=[];
        const canvas = document.getElementById('game-canvas'), ctx = canvas.getContext('2d');
        const cur = document.getElementById('cursor-wrapper');

        window.addEventListener('mousemove', e => { cur.style.left = e.clientX + 'px'; cur.style.top = e.clientY + 'px'; });
        window.addEventListener('keydown', e => { keys[e.code] = true; if(e.code==='Space' && currentType==='dino') dinoV = -12; });
        window.addEventListener('keyup', e => keys[e.code] = false);

        function initSystem() {
            document.getElementById('intro-overlay').style.display='none';
            document.getElementById('bg-music').play();
            
            particlesJS("particles-js", {
                "particles": {
                    "number": { "value": 160, "density": { "enable": true, "value_area": 800 } },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 1 },
                    "size": { "value": 2.5 }, // BOLD STARS
                    "line_linked": { 
                        "enable": true, 
                        "distance": 130, 
                        "color": "#ffffff", 
                        "opacity": 0.4, 
                        "width": 1.5 // SEMI BOLD LINES
                    },
                    "move": { "enable": true, "speed": 0.8, "random": true }
                }
            });
        }

        async function handleAuth() {
            const u = document.getElementById('user-id').value.trim();
            const p = document.getElementById('user-pw').value.trim();
            if(!u || !p) return alert("ENTER CREDENTIALS");

            const snapshot = await db.ref('users/' + u).once('value');
            if(snapshot.exists()) {
                if(snapshot.val().pw === p) loginSuccess(u);
                else alert("INVALID PASSWORD");
            } else {
                await db.ref('users/' + u).set({pw: p});
                loginSuccess(u);
            }
        }

        function loginSuccess(u) {
            myUser = u;
            document.getElementById('login-modal').style.display='none';
            document.getElementById('main-content').style.display='flex';
            document.getElementById('controls').style.display='flex';
            document.getElementById('live-counter').style.display='block';
            
            db.ref('chat').limitToLast(15).on('child_added', s => {
                const h = document.getElementById('chat-history');
                h.innerHTML += `<div><span style="color:#555;">[${s.val().u}]</span> ${s.val().t}</div>`;
                h.scrollTop = h.scrollHeight;
            });
        }

        function toggleChat() { 
            const cw = document.getElementById('chat-window');
            cw.style.display = cw.style.display === 'flex' ? 'none' : 'flex';
        }

        document.getElementById('chat-input').onkeydown = e => {
            if(e.key === 'Enter' && e.target.value.trim()) {
                db.ref('chat').push({u: myUser, t: e.target.value});
                e.target.value = "";
            }
        };

        function openModal(id) { closeModals(); document.getElementById(id).style.display = 'block'; }
        function closeModals() { 
            const modals = ['info-modal', 'games-hub', 'play-area'];
            modals.forEach(m => document.getElementById(m).style.display = 'none');
        }

        // --- GAME LOGIC ---
        let currentType = "";
        function launchGame(t) {
            currentType = t; active = true; score = 0;
            openModal('play-area');
            document.getElementById('retry-btn').style.display = 'none';
            canvas.style.display = t === 'ttt' ? 'none' : 'block';
            document.getElementById('ttt-board').style.display = t === 'ttt' ? 'grid' : 'none';
            if(gameLoop) clearInterval(gameLoop);

            if(t==='snake') { snake=[{x:10,y:10}]; sDir='R'; food={x:15,y:10}; gameLoop=setInterval(doSnake, 100); }
            if(t==='zombies') { pX=200; pY=200; zoms=[]; bullets=[]; gameLoop=setInterval(doZoms, 20); }
            if(t==='dino') { dinoY=350; dinoV=0; obstacles=[]; gameLoop=setInterval(doDino, 20); }
            if(t==='ttt') startTTT();
        }

        function handleClick(e) {
            if(currentType === 'zombies' && active) {
                const rect = canvas.getBoundingClientRect();
                const angle = Math.atan2((e.clientY - rect.top) - pY, (e.clientX - rect.left) - pX);
                bullets.push({x: pX, y: pY, dx: Math.cos(angle)*7, dy: Math.sin(angle)*7});
            }
        }

        function doZoms() {
            if(keys['KeyW']) pY-=3; if(keys['KeyS']) pY+=3; if(keys['KeyA']) pX-=3; if(keys['KeyD']) pX+=3;
            if(Math.random()<0.04) zoms.push({x: Math.random()*400, y: Math.random()<0.5?0:400});
            ctx.clearRect(0,0,400,400);
            ctx.fillStyle="#00A2FF"; ctx.fillRect(pX-10,pY-10,20,20);
            bullets.forEach((b,i) => {
                b.x+=b.dx; b.y+=b.dy; ctx.fillStyle="#fff"; ctx.fillRect(b.x-2,b.y-2,4,4);
                zoms.forEach((z,zi) => {
                    if(Math.hypot(b.x-z.x, b.y-z.y)<15) { zoms.splice(zi,1); bullets.splice(i,1); score++; updateScore(); }
                });
            });
            zoms.forEach(z => {
                let d=Math.hypot(pX-z.x, pY-z.y); z.x+=(pX-z.x)/d*1.5; z.y+=(pY-z.y)/d*1.5;
                ctx.fillStyle="#f00"; ctx.fillRect(z.x-10,z.y-10,20,20);
                if(d<15) gameOver();
            });
        }

        function doSnake() {
            if(keys['ArrowUp'] && sDir!=='D') sDir='U'; if(keys['ArrowDown'] && sDir!=='U') sDir='D';
            if(keys['ArrowLeft'] && sDir!=='R') sDir='L'; if(keys['ArrowRight'] && sDir!=='L') sDir='R';
            let h = {...snake[0]};
            if(sDir==='U') h.y--; if(sDir==='D') h.y++; if(sDir==='L') h.x--; if(sDir==='R') h.x++;
            if(h.x<0||h.x>=20||h.y<0||h.y>=20) return gameOver();
            snake.unshift(h);
            if(h.x===food.x && h.y===food.y) { score++; updateScore(); food={x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)}; } else snake.pop();
            ctx.clearRect(0,0,400,400); ctx.fillStyle="#0f0"; snake.forEach(s=>ctx.fillRect(s.x*20,s.y*20,18,18));
            ctx.fillStyle="#f00"; ctx.fillRect(food.x*20,food.y*20,18,18);
        }

        function doDino() {
            dinoV += 0.8; dinoY += dinoV; if(dinoY > 350) { dinoY = 350; dinoV = 0; }
            if(Math.random() < 0.02) obstacles.push({x: 400, w: 20, h: 40});
            ctx.clearRect(0,0,400,400); ctx.fillStyle="#fff"; ctx.fillRect(50, dinoY-40, 30, 40);
            obstacles.forEach((o, i) => {
                o.x -= 7; ctx.fillStyle="#f00"; ctx.fillRect(o.x, 400-o.h, o.w, o.h);
                if(o.x < 80 && o.x > 20 && dinoY > 320) gameOver();
                if(o.x < -20) { obstacles.splice(i,1); score++; updateScore(); }
            });
        }

        let tttBoard = ["","","","","","","","",""];
        function startTTT() {
            tttBoard = ["","","","","","","","",""]; active=true;
            const grid = document.getElementById('ttt-board'); grid.innerHTML = '';
            for(let i=0; i<9; i++) {
                let c = document.createElement('div'); c.className = 'ttt-cell';
                c.onclick = () => { if(tttBoard[i]==="" && active) { tttBoard[i]="X"; c.innerText="X"; if(!checkTTT()) botMove(); } };
                grid.appendChild(c);
            }
        }
        function botMove() {
            let available = tttBoard.map((v,i)=>v===""?i:null).filter(v=>v!==null);
            if(available.length > 0) {
                let move = available[Math.floor(Math.random()*available.length)];
                tttBoard[move] = "O"; document.getElementById('ttt-board').children[move].innerText = "O"; checkTTT();
            }
        }
        function checkTTT() {
            const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            for(let w of wins) {
                if(tttBoard[w[0]] && tttBoard[w[0]]===tttBoard[w[1]] && tttBoard[w[0]]===tttBoard[w[2]]) {
                    active=false; document.getElementById('g-status').innerText = tttBoard[w[0]] + " WINS";
                    document.getElementById('retry-btn').style.display='block'; return true;
                }
            }
            if(!tttBoard.includes("")) { active=false; document.getElementById('g-status').innerText = "TIE"; document.getElementById('retry-btn').style.display='block'; return true; }
            return false;
        }

        function updateScore() { document.getElementById('g-status').innerText = "SCORE: " + score; }
        function gameOver() { active=false; clearInterval(gameLoop); document.getElementById('retry-btn').style.display='block'; }
        function retryGame() { launchGame(currentType); }
        function quitGame() { clearInterval(gameLoop); active=false; closeModals(); document.getElementById('main-content').style.display='flex'; }
        function copyDiscord() { navigator.clipboard.writeText("cloudz.cloud"); alert("DISCORD COPIED"); }
    </script>
</body>
</html>
